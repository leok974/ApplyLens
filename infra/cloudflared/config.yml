# Cloudflare Tunnel Configuration
# Brand-correct routing for applylens.app with internal Docker aliases

tunnel: 08d5feee-f504-47a2-a1f2-b86564900991
credentials-file: /etc/cloudflared/08d5feee-f504-47a2-a1f2-b86564900991.json

ingress:
  # Main domain - route to Nginx reverse proxy (handles path-based routing)
  - hostname: applylens.app
    service: http://applylens.int:80
  
  # WWW subdomain - route to Nginx reverse proxy
  - hostname: www.applylens.app
    service: http://applylens.int:80
  
  # API subdomain - direct route to FastAPI backend
  - hostname: api.applylens.app
    service: http://applylens-api.int:8000
  
  # Catch-all rule (required, must be last)
  - service: http_status:404




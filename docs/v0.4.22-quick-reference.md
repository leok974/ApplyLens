# v0.4.22 Quick Reference Card
## 3 UX Improvements - Cheat Sheet

---

## âœ… What Changed

### 1. ğŸ§© Tooltip Fix
- **What**: Scoring badge tooltip now works consistently
- **Where**: Search page, top-right near results count
- **How**: Moved TooltipProvider to app root

### 2. ğŸ›ï¸ Active Filter Feedback
- **What**: Filters show clear active state + summary bar
- **Where**: Search page, category filter section
- **How**: Updated button styling + added active filters bar

### 3. âš–ï¸ Score Hiding
- **What**: Zero scores no longer clutter results
- **Where**: Search results list
- **How**: Only show score if `> 0`

---

## ğŸ¯ Quick Test Guide

### Test 1: Tooltip (30 seconds)
1. Go to `/search?q=Interview`
2. Hover over "Scoring" badge
3. âœ… Tooltip appears with boost info
4. Tab to badge with keyboard
5. âœ… Tooltip appears on focus

### Test 2: Active Filters (60 seconds)
1. Click "ats" filter
2. âœ… Button highlights (primary color)
3. âœ… Active filters bar appears
4. Click "Hide expired"
5. âœ… Both shown in active filters bar
6. Click "Clear all"
7. âœ… All filters reset

### Test 3: Scores (30 seconds)
1. Search "Interview" (relevance sort)
2. âœ… Scores shown for relevant results
3. Change to "Date (newest)" sort
4. âœ… No scores shown (expected)
5. Change back to "Relevance"
6. âœ… Scores reappear

---

## ğŸ“ Files Changed

| File | Change |
|------|--------|
| `App.tsx` | Added TooltipProvider wrapper |
| `SearchResultsHeader.tsx` | Removed local provider, better cursor |
| `Search.tsx` | Active styles, summary bar, score hiding |
| `package.json` | Version â†’ 0.4.22 |
| `main.tsx` | Version banner |

---

## ğŸš€ Deploy Commands

```bash
# Build
cd d:\ApplyLens\apps\web
docker build -t leoklemet/applylens-web:v0.4.22 -f Dockerfile.prod .

# Push
docker push leoklemet/applylens-web:v0.4.22

# Deploy
cd d:\ApplyLens
docker-compose -f docker-compose.prod.yml pull web
docker-compose -f docker-compose.prod.yml up -d --force-recreate --no-deps web
docker-compose -f docker-compose.prod.yml restart nginx

# Verify
docker ps --filter "name=applylens-web-prod"
curl -I https://applylens.app
```

---

## ğŸ”„ Rollback Commands

```bash
cd d:\ApplyLens
# Edit docker-compose.prod.yml â†’ image: v0.4.21
docker-compose -f docker-compose.prod.yml up -d --force-recreate --no-deps web
docker-compose -f docker-compose.prod.yml restart nginx
```

---

## ğŸ› Troubleshooting

### Tooltip Not Showing
- Check: TooltipProvider in App.tsx
- Check: No local TooltipProvider in component
- Check: Browser console for errors

### Filter Highlights Not Working
- Check: `filters.categories?.[cat]` condition
- Check: CSS class application
- Check: Variant switching (`default` vs `outline`)

### Scores Still Showing Zero
- Check: Condition `h.score > 0`
- Check: Backend returning `0.0` for missing scores
- Check: Sort mode (custom sorts don't have scores)

### Active Filters Bar Not Showing
- Check: At least one filter is active
- Check: Condition includes all filter types
- Check: No CSS hiding the bar

---

## ğŸ“Š Before/After Summary

| Aspect | Before | After |
|--------|--------|-------|
| Tooltip | âŒ Broken | âœ… Works |
| Filter feedback | âš ï¸ Unclear | âœ… Clear |
| Zero scores | âŒ Shown | âœ… Hidden |
| Active summary | âŒ None | âœ… Badge bar |
| Accessibility | âš ï¸ Partial | âœ… Full |

---

## ğŸ“ Checklist for Production

- [ ] Dev server tested locally
- [ ] Tooltip works (hover + keyboard)
- [ ] Filters highlight correctly
- [ ] Active filters bar shows/hides
- [ ] Zero scores hidden
- [ ] No TypeScript errors
- [ ] No console errors
- [ ] Docker build successful
- [ ] Image pushed to Docker Hub
- [ ] Production deployment complete
- [ ] Nginx restarted
- [ ] Health check passing
- [ ] Live site tested (https://applylens.app)

---

## ğŸ“ User Impact

**Positive**:
- âœ… Better discoverability (tooltip always works)
- âœ… Clearer filter state (no guessing what's active)
- âœ… Cleaner UI (no score: 0 clutter)
- âœ… Faster workflow (Clear all button)

**Negative**:
- None identified

**Neutral**:
- Visual changes are subtle and intuitive

---

## ğŸ“š Documentation Links

- Full docs: `docs/v0.4.22-ux-improvements.md`
- Implementation: `docs/v0.4.22-implementation-summary.md`
- Visual guide: `docs/v0.4.22-visual-changes.md`
- This card: `docs/v0.4.22-quick-reference.md`

---

## ğŸ’¬ User Feedback Points

After deployment, ask users:

1. "Did you notice the scoring tooltip? Was it helpful?"
2. "Are the active filters easy to understand?"
3. "Is the 'Clear all' button discoverable?"
4. "Any confusion about filter states?"

---

## ğŸ”® Future Enhancements

Not in v0.4.22, but consider for next release:

- Tooltips for other badges (risk, category, expiry)
- Filter presets ("High priority", "Needs attention")
- Filter history/quick restore
- Advanced score breakdown tooltip

---

**Version**: v0.4.22
**Status**: âœ… Ready for Testing
**Dev Server**: http://localhost:5175
**Production**: https://applylens.app
**Date**: October 24, 2025

---

**Print this card for quick reference during testing and deployment** ğŸ“„

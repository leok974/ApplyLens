# Security Search Filters - Visual Guide

## UI Components Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ApplyLens Search                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚ [Search emails...                              ] [ Search ]             â”‚
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filter by: [ats] [bills] [banks] [events] [promotions]   Hide expired  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚ ğŸ›¡ï¸ Security filters:                                                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ [ON] ğŸ”´ High Risk (â‰¥80)     â”‚  â”‚ [OFF] ğŸŸ¡ Quarantined only   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  Clear filters                                                          â”‚
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Labels: [urgent] [follow-up]    Dates: [Last 7 days]    Sort: [Score]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚ ğŸ“§ Suspicious invoice from vendor                           ğŸ”´ High     â”‚
â”‚    attacker@suspicious.ru Â· 2 hours ago         [urgent] [bills]       â”‚
â”‚    "Please review the attached invoice and send payment..."             â”‚
â”‚                                                                          â”‚
â”‚ ğŸ“§ Banking notification                                     ğŸŸ¡ Medium   â”‚
â”‚    noreply@fakebank.com Â· 5 hours ago           [banks]                â”‚
â”‚    "Your account has been compromised. Click here..."                   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component States

### High-Risk Chip

#### **Inactive State (Default)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [OFF] High Risk (â‰¥80)    â”‚  â† Gray background
â”‚                          â”‚     Gray border
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Default text color
```

#### **Active State**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ON]  ğŸ”´ High Risk (â‰¥80) â”‚  â† Red background (bg-red-500/15)
â”‚                          â”‚     Red border (border-red-600/30)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Red text (text-red-300)
```

#### **Hover State (Inactive)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [OFF] High Risk (â‰¥80)    â”‚  â† Light gray background
â”‚       â†‘ cursor pointer   â”‚     Smooth transition
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Hover State (Active)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ON]  ğŸ”´ High Risk (â‰¥80) â”‚  â† Brighter red background
â”‚       â†‘ cursor pointer   â”‚     Smooth transition
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quarantined Chip

#### **Inactive State (Default)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [OFF] Quarantined only   â”‚  â† Gray background
â”‚                          â”‚     Gray border
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Default text color
```

#### **Active State**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ON]  ğŸŸ¡ Quarantined onlyâ”‚  â† Amber background (bg-amber-500/15)
â”‚                          â”‚     Amber border (border-amber-600/30)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     Amber text (text-amber-300)
```

### Both Filters Active

```
ğŸ›¡ï¸ Security filters:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ON]  ğŸ”´ High Risk (â‰¥80) â”‚  â”‚ [ON]  ğŸŸ¡ Quarantined onlyâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Clear filters  â† Appears only when filters are active
```

## Icon Guide

| Icon | Meaning | Usage |
|------|---------|-------|
| ğŸ›¡ï¸ ShieldAlert | Security filters section | Section header |
| ğŸ”´ ShieldAlert | High-risk filter | High-Risk chip icon |
| ğŸŸ¡ ShieldX | Quarantined filter | Quarantined chip icon |
| [ON] | Toggle switch active | Filter is ON |
| [OFF] | Toggle switch inactive | Filter is OFF |

## Color Scheme

### High-Risk Filter (Red Theme)
```css
Active:
  background: bg-red-500/15      /* #ef444415 */
  border: border-red-600/30      /* #dc262630 */
  text: text-red-300             /* #fca5a5 */

Hover (Active):
  background: bg-red-500/20      /* #ef444420 */
```

### Quarantined Filter (Amber Theme)
```css
Active:
  background: bg-amber-500/15    /* #f5920015 */
  border: border-amber-600/30    /* #d9770030 */
  text: text-amber-300           /* #fcd34d */

Hover (Active):
  background: bg-amber-500/20    /* #f5920020 */
```

### Inactive (Both Chips)
```css
background: bg-muted/30          /* neutral gray */
border: border                   /* subtle border */
text: inherit                    /* default text color */

Hover:
  background: bg-muted/50        /* slightly darker gray */
```

## Responsive Behavior

### Desktop (â‰¥1024px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›¡ï¸ Security filters:                                     â”‚
â”‚                                                           â”‚
â”‚  [ON] ğŸ”´ High Risk (â‰¥80)    [OFF] ğŸŸ¡ Quarantined only   â”‚
â”‚                                                           â”‚
â”‚  Clear filters                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile (â‰¤768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›¡ï¸ Security filters:    â”‚
â”‚                          â”‚
â”‚ [ON] ğŸ”´ High Risk (â‰¥80) â”‚
â”‚                          â”‚
â”‚ [OFF] ğŸŸ¡ Quarantined    â”‚
â”‚       only              â”‚
â”‚                          â”‚
â”‚ Clear filters           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## URL Bar Examples

### No Filters
```
https://applylens.com/search?q=invoice
```

### High-Risk Only
```
https://applylens.com/search?q=invoice&risk_min=80
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quarantined Only
```
https://applylens.com/search?q=test&quarantined=true
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Both Filters
```
https://applylens.com/search?q=security&risk_min=80&quarantined=true
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Interaction Flow

### Scenario 1: Enable High-Risk Filter

```
1. User sees chips in inactive state:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [OFF] High Risk    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. User clicks chip:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [OFF] High Risk    â”‚  â† Click!
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. Chip animates to active state:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ [ON] ğŸ”´ High Risk  â”‚  â† Smooth transition
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. URL updates:
   /search?q=test â†’ /search?q=test&risk_min=80

5. API request sent:
   GET /api/search/?q=test&risk_min=80

6. Results update:
   Only high-risk emails shown
```

### Scenario 2: Clear All Filters

```
1. Both filters active:
   [ON] ğŸ”´ High Risk    [ON] ğŸŸ¡ Quarantined
   
   Clear filters  â† User clicks

2. Both chips animate to inactive:
   [OFF] High Risk    [OFF] Quarantined

3. URL updates:
   /search?q=test&risk_min=80&quarantined=true
   â†’ /search?q=test

4. API request sent without filters:
   GET /api/search/?q=test

5. All results shown
```

## Accessibility

### Keyboard Navigation
```
Tab â†’ Focus on High-Risk chip
Space â†’ Toggle High-Risk
Tab â†’ Focus on Quarantined chip
Space â†’ Toggle Quarantined
Tab â†’ Focus on Clear button
Enter â†’ Clear all filters
```

### Screen Reader Announcements
```
High-Risk chip:
  "High Risk, greater than or equal to 80, switch, on/off"

Quarantined chip:
  "Quarantined only, switch, on/off"

Clear button:
  "Clear filters, button"
```

### ARIA Attributes
```html
<label data-testid="chip-high-risk" className="...">
  <Switch 
    checked={highRisk} 
    onCheckedChange={onHighRiskChange}
    aria-label="High Risk filter"
  />
  <span>High Risk (â‰¥80)</span>
</label>
```

## Dark Mode Support

### High-Risk Chip (Active)
```css
Light Mode:
  bg-red-500/15 border-red-600/30 text-red-300

Dark Mode:
  (Same - colors already dark-mode optimized)
```

### Quarantined Chip (Active)
```css
Light Mode:
  bg-amber-500/15 border-amber-600/30 text-amber-300

Dark Mode:
  (Same - colors already dark-mode optimized)
```

### Inactive State
```css
Light Mode:
  bg-muted/30 (light gray)

Dark Mode:
  bg-muted/30 (dark gray)
  (Automatically adapts via CSS custom properties)
```

## Animation Timing

```css
Chip state change: 150ms ease-in-out
Hover effect: 150ms ease-in-out
Switch toggle: 200ms cubic-bezier(0.4, 0, 0.2, 1)
URL update: Instant (no animation)
Results refresh: 300ms fade-in
```

## Z-Index Layers

```
Layer 0: Page background
Layer 1: Search results
Layer 2: Filter chips (normal)
Layer 3: Filter chips (hover)
Layer 4: Clear button (hover)
Layer 10: Dropdown suggestions
Layer 50: Modal overlays
```

## Browser Compatibility

âœ… Chrome 90+
âœ… Firefox 88+
âœ… Safari 14+
âœ… Edge 90+
âœ… Mobile Safari iOS 14+
âœ… Chrome Android 90+

## Performance

- **Initial Render:** <50ms
- **Chip Toggle:** <100ms
- **URL Update:** <10ms
- **API Request:** 100-500ms (network dependent)
- **Results Render:** <200ms

## Summary

The security filter chips provide an intuitive, visually clear interface for filtering emails by risk score and quarantine status. The design follows modern UI/UX principles with clear visual states, smooth animations, and comprehensive accessibility support.

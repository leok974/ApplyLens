<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ApplyLens Companion ‚Äì Sidepanel</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body class="alp-theme-root alp-theme-dark">
    <div class="flex h-screen w-full items-center justify-center bg-gradient-radial from-slate-950 via-slate-950 to-slate-900">
      <!-- Main card -->
      <div class="alp-panel">
        <!-- Header -->
        <header class="flex items-center justify-between gap-3 pb-3">
          <div class="flex items-center gap-3">
            <div class="flex h-11 w-11 items-center justify-center rounded-full border border-slate-700/70 bg-gradient-radial from-cyan-500/25 to-transparent">
              <span class="text-2xl">üìã</span>
            </div>
            <div>
              <h1 class="m-0 text-[16px] font-semibold">ApplyLens Companion</h1>
              <p class="m-0 mt-0.5 text-[12px] text-slate-400">
                Job board: <span id="alp-sp-job-board" class="text-cyan-400">Greenhouse</span>
              </p>
            </div>
          </div>

          <div class="flex items-center gap-2">
            <!-- Status pill -->
            <div id="alp-sp-status-pill" class="alp-status-pill">
              <span class="h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(52,211,153,0.8)]"></span>
              <span>Connected</span>
            </div>

            <!-- Theme toggle -->
            <button
              id="alp-sp-theme-toggle"
              class="rounded-full border border-slate-600/70 bg-slate-900/70 p-1.5 text-[11px] text-slate-300 hover:border-cyan-400/60 hover:text-cyan-100 transition"
              title="Toggle light / dark"
            >
              <span id="alp-sp-theme-icon">‚òÄÔ∏è</span>
            </button>
          </div>
        </header>

        <!-- Metrics row -->
        <section class="grid grid-cols-4 gap-2 pb-3 text-[11px]">
          <div class="alp-metric-card">
            <div class="text-slate-400">Fields</div>
            <div id="alp-sp-metric-fields" class="mt-0.5 text-[13px] font-semibold">0</div>
          </div>
          <div class="alp-metric-card">
            <div class="text-slate-400">Mapped</div>
            <div id="alp-sp-metric-mapped" class="mt-0.5 text-[13px] font-semibold">0</div>
          </div>
          <div class="alp-metric-card">
            <div class="text-slate-400">Profile</div>
            <div id="alp-sp-metric-profile" class="mt-0.5 text-[13px] font-semibold">0</div>
          </div>
          <div class="alp-metric-card">
            <div class="text-slate-400">Learning</div>
            <div id="alp-sp-metric-learning" class="mt-0.5 text-[13px] font-semibold text-cyan-400">‚Äî</div>
          </div>
        </section>

        <!-- Tabs / view selector -->
        <nav class="alp-tabs">
          <button data-tab="fields" class="alp-sp-tab alp-tab alp-tab-active">
            Fields
          </button>
          <button data-tab="profile" class="alp-sp-tab alp-tab">
            Profile
          </button>
          <button data-tab="activity" class="alp-sp-tab alp-tab">
            Activity
          </button>
        </nav>

        <!-- Progress indicator -->
        <div id="alp-sp-scan-progress" class="hidden mb-3 rounded-alp-lg bg-slate-900/80 p-3">
          <div class="h-1.5 w-full animate-pulse rounded-full bg-gradient-to-r from-cyan-400 via-blue-500 to-cyan-400"></div>
          <p id="alp-sp-scan-label" class="mt-2 text-center text-[11px] text-slate-400"></p>
        </div>

        <!-- Scrollable body -->
        <section class="flex-1 overflow-hidden rounded-alp-lg border border-slate-700/70 bg-slate-900/90">
          <!-- FIELDS VIEW -->
          <div id="view-fields" class="alp-sp-view flex h-full flex-col opacity-100 translate-y-0 transition duration-150 ease-out">
            <!-- Header row -->
            <div class="grid grid-cols-[20px,1.2fr,0.9fr,1fr,1fr] items-center gap-2 border-b border-slate-700/60 bg-slate-900/95 px-3 py-1.5 text-[11px] text-slate-400">
              <div></div>
              <div>Field</div>
              <div>Type</div>
              <div>Current</div>
              <div>Suggestion</div>
            </div>

            <!-- Rows -->
            <div id="alp-sp-field-rows" class="alp-field-rows">
              <!-- Placeholder row -->
              <div class="flex h-full items-center justify-center text-[12px] text-slate-400">
                No fields detected yet. Click "Generate suggestions" to scan the form.
              </div>
            </div>
          </div>

          <!-- PROFILE VIEW -->
          <div id="view-profile" class="alp-sp-view hidden h-full overflow-y-auto px-4 py-3 opacity-0 translate-y-1 transition duration-150 ease-out">
            <div class="space-y-3">
              <div>
                <div class="text-[11px] text-slate-400 mb-1">Name</div>
                <div id="alp-sp-profile-name" class="text-[13px]">‚Äî</div>
              </div>
              <div>
                <div class="text-[11px] text-slate-400 mb-1">Email</div>
                <div id="alp-sp-profile-email" class="text-[13px]">‚Äî</div>
              </div>
              <div>
                <div class="text-[11px] text-slate-400 mb-1">Headline</div>
                <div id="alp-sp-profile-headline" class="text-[13px]">‚Äî</div>
              </div>
              <div>
                <div class="text-[11px] text-slate-400 mb-1">Tech Stack</div>
                <div id="alp-sp-profile-stack" class="flex flex-wrap gap-1.5"></div>
              </div>
            </div>
          </div>

          <!-- ACTIVITY VIEW -->
          <div id="view-activity" class="alp-sp-view hidden h-full overflow-y-auto px-4 py-3 opacity-0 translate-y-1 transition duration-150 ease-out">
            <div id="alp-sp-activity-timeline" class="space-y-2.5">
              <div class="grid grid-cols-[16px,1fr] gap-x-2.5">
                <div class="mt-1 h-1.5 w-1.5 rounded-full bg-cyan-400/60"></div>
                <div>
                  <div class="text-[12px]">No recent activity</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Bottom actions -->
        <section class="mt-3 space-y-2">
          <div class="flex gap-2">
            <button id="alp-sp-generate" class="alp-btn-secondary">
              Generate suggestions
            </button>
            <button id="alp-sp-coverletter" class="alp-btn-secondary">
              Cover Letter
            </button>
          </div>

          <div class="flex gap-2">
            <button id="alp-sp-apply" class="alp-btn-primary text-slate-950" disabled>
              Apply to page
            </button>
            <button id="alp-sp-log" class="alp-btn-secondary">
              Log application
            </button>
          </div>
        </section>
      </div>
    </div>

    <script src="sidepanel.js" type="module"></script>
  </body>
</html>
